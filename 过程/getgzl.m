load multi0.txt;
load afcs.txt;

multi1=[
1	0	0	0	0	0	0	0	0	0	0	0	0	0	0
2	39	0	0	0	0	0	0	0	0	0	0	0	0	0
3	54	55	0	0	0	0	0	0	0	0	0	0	0	0
4	57	60	62	63	0	0	0	0	0	0	0	0	0	0
5	49	53	0	0	0	0	0	0	0	0	0	0	0	0
6	0	0	0	0	0	0	0	0	0	0	0	0	0	0
7	61	30	0	0	0	0	0	0	0	0	0	0	0	0
8	0	0	0	0	0	0	0	0	0	0	0	0	0	0
9	0	0	0	0	0	0	0	0	0	0	0	0	0	0
10	0	0	0	0	0	0	0	0	0	0	0	0	0	0
11	26	27	0	0	0	0	0	0	0	0	0	0	0	0
12	0	0	0	0	0	0	0	0	0	0	0	0	0	0
13	21	22	23	24	0	0	0	0	0	0	0	0	0	0
14	0	0	0	0	0	0	0	0	0	0	0	0	0	0
15	28	29	0	0	0	0	0	0	0	0	0	0	0	0
16	38	0	0	0	0	0	0	0	0	0	0	0	0	0
17	41	0	0	0	0	0	0	0	0	0	0	0	0	0
18	0	0	0	0	0	0	0	0	0	0	0	0	0	0
19	0	0	0	0	0	0	0	0	0	0	0	0	0	0
20	92	86	0	0	0	0	0	0	0	0	0	0	0	0
];

multi_temp2=multi_temp(find(multi_temp>20));

for m=1:49
    gzl=zeros(1,20);
        for i=1:20 %求工作量
            for j=1:10
                if(multi1(i,j)~=0)
                    gzl(i)=gzl(i)+a(i,multi1(i,j))*afcs(i);
                end
            end
        end
    gzl=gzl*0.1;
    [M,N]=size(find(multi2(m,:)~=0));
    temp=zeros(1,N);temp2=zeros(1,N);
    temp2=multi2(m,1:N);%可选的警察局
    
    mi=temp2(1); %假设最小的工作量的警察局是temp2中的第一个
    for tt=1:N %寻找最小工作量的警察局记为mi
        if(gzl(temp2(tt))<gzl(mi))
            mi=temp2(N);
        end
    end
    
    %把第m个地点丢给第mi个警察局
    for tt=1:10
        if (multi1(mi,tt)==0)
            multi1(mi,tt)=multi_temp2(m);
            break;
        end
    end
end
    

multitemp=[
1,68,69,71,73,74,75,76,78, 0
2,39,44,72, 0, 0, 0, 0, 0, 0
3,54,55,65,66, 0, 0, 0, 0, 0
4,57,60,62,63,64, 0, 0, 0, 0
5,49,53,56,58,59, 0, 0, 0, 0
6,50,51,52, 0, 0, 0, 0, 0, 0
7,30,48,61, 0, 0, 0, 0, 0, 0
8,33,46,32,47, 0, 0, 0, 0, 0
9,31,34,35,45,36, 0, 0, 0, 0
10, 0, 0, 0, 0, 0, 0, 0, 0, 0
11,26,27, 0, 0, 0, 0, 0, 0, 0
12,25, 0, 0, 0, 0, 0, 0, 0, 0
13,21,22,23,24, 0, 0, 0, 0, 0
14, 0, 0, 0, 0, 0, 0, 0, 0, 0
15,28,29, 0, 0, 0, 0, 0, 0, 0
16,37,38, 0, 0, 0, 0, 0, 0, 0
17,41,42,40,43, 0, 0, 0, 0, 0
18,80,81,82,83,84,85,88, 0, 0
19,77,70,67,79, 0, 0, 0, 0, 0
20,86,87,89,90,91,92, 0, 0, 0];
%multitemp=multi0;
gzltemp=zeros(1,20);
        for i=1:20 %求工作量    ????
            for j=1:10
                if(multitemp(i,j)~=0)
                    gzltemp(i)=gzltemp(i)+a(i,multitemp(i,j))*afcs(multitemp(i,j));
                end
            end
        end
gzltemp=gzltemp*0.1;
var(gzltemp)

%求案发率
afltemp=zeros(1,20);
for i=1:20
    for j=1:10
        if(multitemp(i,j)~=0)
            afltemp(i)=afltemp(i)+afcs(multitemp(i,j));
        end
    end
end
    
    

multitemp=[1,69,71,73,74,75,76,78,0,0,74;2,39,44,72,0,0,0,0,0,0,46;3,54,55,65,66,0,0,0,0,0,0;4,57,60,62,63,64,0,0,0,0,17;5,49,53,56,58,59,0,0,0,0,77;6,0,51,52,0,0,0,0,0,0,0;7,30,48,61,0,0,0,0,0,0,18;8,33,46,32,47,0,0,0,0,0,76;9,31,34,35,45,36,0,0,0,0,0;10,0,0,0,0,0,0,0,0,0,64;11,26,27,0,0,0,0,0,0,0,0;12,25,0,0,0,0,0,0,0,0,0;13,21,22,23,24,0,0,0,0,0,0;14,0,0,0,0,0,0,0,0,0,0;15,28,29,0,0,0,0,0,0,0,0;16,37,38,0,0,0,0,0,0,0,0;17,41,40,0,0,0,0,0,0,0,0;18,81,83,84,85,0,0,0,0,0,0;19,70,67,0,0,0,0,0,0,0,0;20,86,0,87,89,92,0,0,0,0,0];
gzltemp=zeros(1,20);
        for i=1:20 %求工作量
            for j=1:10
                if(multitemp(i,j)~=0)
                    gzltemp(i)=gzltemp(i)+a(i,multitemp(i,j))*afcs(i);
                end
            end
        end
gzltemp=gzltemp*0.1;
var(gzltemp)